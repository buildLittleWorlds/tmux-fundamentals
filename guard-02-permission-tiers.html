<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Permission Tiers &mdash; tmux for AI-Powered Development</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=EB+Garamond:ital,wght@0,400;0,600;1,400&family=JetBrains+Mono:wght@400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <header>
    <div class="container">
      <p class="site-label">tmux + AI CLI</p>
      <h1><a href="index.html">tmux for AI-Powered Development</a></h1>
      <nav>
        <a href="index.html">Tracks</a>
        <span class="track-label">Guardrails for Speed</span>
      </nav>
    </div>
  </header>

  <main class="container">

    <!-- SLOGAN BANNER -->
    <div class="slogan-banner">
      <span class="main-slogan">See everything. Control everything.</span>
      <span class="subtext">Interactive tutorials for mastering tmux with Claude Code and Codex CLI.</span>
    </div>

    <!-- PAGE TITLE -->
    <h1 class="page-title">Permission Tiers</h1>

    <!-- LESSON METADATA -->
    <div class="course-meta">
      <span class="meta-pill">Lesson <strong>2</strong> of 10</span>
      <span class="meta-pill"><strong>Intermediate</strong></span>
      <span class="meta-pill">Track: Guardrails for Speed</span>
    </div>

    <!-- LEAD PARAGRAPH -->
    <p class="lead">Claude Code ships with a built-in guardrail system: permission tiers. Before you build any external guardrails, you need to understand the ones already installed&mdash;the spectrum from &ldquo;ask me about everything&rdquo; to &ldquo;do whatever you want.&rdquo; Each tier trades supervision for speed, and knowing when to use each is the first engineering decision in any agentic workflow.</p>

    <!-- CONCEPT -->
    <h2>The Permission Spectrum</h2>

    <p>Claude Code has four distinct permission modes, each representing a different point on the autonomy ladder from <a href="guard-01-autonomy-ladder.html">Lesson 1</a>:</p>

    <table class="tool-table">
      <thead>
        <tr>
          <th>Mode</th>
          <th>Flag / Setting</th>
          <th>What Happens</th>
          <th>Rung</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>Interactive</strong></td>
          <td>(default)</td>
          <td>Claude asks permission for every file edit and shell command. You approve or reject each one.</td>
          <td>3</td>
        </tr>
        <tr>
          <td><strong>Plan Mode</strong></td>
          <td><code>Shift+Tab</code></td>
          <td>Claude proposes a plan. You approve the plan, then Claude executes. Still interactive, but you approve at a higher level.</td>
          <td>3</td>
        </tr>
        <tr>
          <td><strong>Auto-accept</strong></td>
          <td><code>--allowedTools</code></td>
          <td>You pre-approve specific tools. Claude uses them freely, asks about everything else. Selective trust.</td>
          <td>3&ndash;4</td>
        </tr>
        <tr>
          <td><strong>Full Auto</strong></td>
          <td><code>--dangerously-skip-permissions</code></td>
          <td>All tools auto-approved. Claude never pauses for permission. Requires trust in the prompt and the project.</td>
          <td>5</td>
        </tr>
      </tbody>
    </table>

    <div class="callout warning">
      <p><strong>The <code>-p</code> flag:</strong> Print mode (<code>-p</code>) is orthogonal to permissions. It makes Claude non-interactive&mdash;process one prompt and exit. When combined with <code>--dangerously-skip-permissions</code>, you get a fully headless agent as you built in <a href="claude-09-headless-sessions.html">Headless Sessions</a>. Without <code>-p</code>, even <code>--dangerously-skip-permissions</code> starts an interactive session (it just auto-approves tools).</p>
    </div>

    <h2>The Trust Equation</h2>

    <p>Each permission tier represents a trust equation:</p>

    <div class="callout insight">
      <p><strong>Permission level = Trust in prompt + Trust in project + Trust in guardrails</strong></p>
    </div>

    <p>When all three are high, you can safely climb to Rung 5. When any is low, you need to stay lower on the ladder or compensate with more guardrails:</p>

    <ul>
      <li><strong>Low trust in prompt</strong> (vague or complex task) &rarr; Stay at Rung 3, watch closely</li>
      <li><strong>Low trust in project</strong> (unfamiliar codebase, production data) &rarr; Use <code>--allowedTools</code> to restrict scope</li>
      <li><strong>High trust, strong guardrails</strong> (well-tested project, hooks in place, isolated branch) &rarr; Safe for Rung 5</li>
    </ul>

    <h2>The <code>--allowedTools</code> Middle Ground</h2>

    <p>Between &ldquo;approve everything&rdquo; and &ldquo;skip all permissions,&rdquo; there is a powerful middle ground: explicitly listing which tools Claude can use without asking.</p>

    <div class="skill-file">
      <div class="skill-file-header">Example: restricted headless agent</div>
      <div class="copy-wrapper">
        <button class="copy-btn">Copy</button>
        <pre>claude -p \
  --allowedTools "Read,Glob,Grep" \
  "Analyze this codebase and report any files over 500 lines"</pre>
      </div>
    </div>

    <p>This agent can read and search but cannot edit files or run shell commands. It is headless (<code>-p</code>) but constrained. This is the guardrail mindset: grant exactly the permissions the task requires, no more.</p>

    <div class="callout info">
      <p><strong>Connection to Skills:</strong> If you have completed the <a href="https://buildlittleworlds.github.io/claude-code-skills-basics-and-beyond/">Skills: Basics and Beyond</a> curriculum, you have already seen this principle in SKILL.md frontmatter: <code>allowed-tools</code> restricts what a skill can do. The command-line flag works the same way for headless agents.</p>
    </div>

    <!-- EXERCISE -->
    <h2>Exercise</h2>

    <div class="step-card">
      <span class="step-number">1</span>
      <span class="step-title">Run a read-only headless agent</span>
      <div class="step-content">
        <p>Launch a headless agent that can only read, not modify:</p>
        <div class="copy-wrapper">
          <button class="copy-btn">Copy</button>
          <div class="terminal-block">claude -p --allowedTools "Read,Glob,Grep" "List all files in this project that contain TODO comments"</div>
        </div>
        <p>Claude processes the prompt and exits. It cannot edit anything&mdash;the <code>--allowedTools</code> flag is the guardrail.</p>
      </div>
    </div>

    <div class="step-card">
      <span class="step-number">2</span>
      <span class="step-title">Compare with full permissions</span>
      <div class="step-content">
        <p>Now run the same agent with full permissions in a detached tmux session:</p>
        <div class="copy-wrapper">
          <button class="copy-btn">Copy</button>
          <div class="terminal-block">tmux new-session -d -s guard-test
tmux send-keys -t guard-test 'claude -p --dangerously-skip-permissions "List all files in this project that contain TODO comments"' Enter</div>
        </div>
        <p>Both produce the same output. But the first one <em>cannot</em> modify your code even if the prompt were malicious or the agent hallucinated a desire to &ldquo;fix&rdquo; the TODOs. The second one could.</p>
      </div>
    </div>

    <div class="step-card">
      <span class="step-number">3</span>
      <span class="step-title">Clean up</span>
      <div class="step-content">
        <div class="copy-wrapper">
          <button class="copy-btn">Copy</button>
          <div class="terminal-block">tmux kill-session -t guard-test</div>
        </div>
      </div>
    </div>

    <!-- CHECKPOINT -->
    <h2>Checkpoint</h2>

    <ul class="checklist">
      <li>You know the four permission modes: interactive, plan, auto-accept, full auto</li>
      <li><code>-p</code> makes Claude non-interactive; <code>--dangerously-skip-permissions</code> auto-approves tools</li>
      <li><code>--allowedTools</code> lets you grant specific permissions without granting all</li>
      <li>You understand the trust equation: prompt + project + guardrails = safe permission level</li>
    </ul>

    <h2>Choosing Your Tier: A Decision Framework</h2>

    <table class="tool-table">
      <thead>
        <tr>
          <th>Scenario</th>
          <th>Recommended Tier</th>
          <th>Why</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Exploring unfamiliar code</td>
          <td>Read-only (<code>--allowedTools "Read,Glob,Grep"</code>)</td>
          <td>No risk of modification</td>
        </tr>
        <tr>
          <td>Writing a new feature</td>
          <td>Interactive (default)</td>
          <td>Review each change as it happens</td>
        </tr>
        <tr>
          <td>Running tests + fixing failures</td>
          <td>Auto-accept (<code>--allowedTools "Read,Write,Edit,Bash"</code>)</td>
          <td>Trusted loop: edit &rarr; test &rarr; fix</td>
        </tr>
        <tr>
          <td>Well-specified task on isolated branch</td>
          <td>Full auto + hooks</td>
          <td>Hooks catch problems; branch isolates risk</td>
        </tr>
      </tbody>
    </table>

    <!-- WHAT'S NEXT -->
    <div class="callout success">
      <p><strong>What&rsquo;s Next:</strong> In <a href="guard-03-compiler-guardrail.html">Lesson 3: The Compiler as Guardrail</a>, you&rsquo;ll learn why static typing is the cheapest, most reliable guardrail you can install&mdash;a free safety net that catches bugs before any test runs.</p>
    </div>

    <!-- DIVIDER -->
    <div class="divider"></div>

    <!-- PAGE NAVIGATION (Prev/Next) -->
    <nav class="page-nav">
      <a href="guard-01-autonomy-ladder.html" class="prev">The Autonomy Ladder</a>
      <a href="guard-03-compiler-guardrail.html" class="next">The Compiler as Guardrail</a>
    </nav>

    <!-- BOTTOM SITE NAVIGATION (Track-grouped) -->
    <nav class="site-nav-bottom">
      <h3>All Lessons</h3>
      <ul>
        <!-- Getting Started -->
        <li class="nav-phase-label">Getting Started</li>
        <li><a href="setup.html">Setup &amp; Configuration</a></li>

        <!-- Track 1: tmux + Claude Code -->
        <li class="nav-phase-label">Beginner: tmux + Claude Code</li>
        <li><a href="claude-01-first-session.html">1. Your First Session</a></li>
        <li><a href="claude-02-detach-reattach.html">2. Detach &amp; Reattach</a></li>
        <li><a href="claude-03-split-panes.html">3. Split Panes</a></li>
        <li><a href="claude-04-launch-claude.html">4. Launch Claude Code</a></li>
        <li><a href="claude-05-supervisor-workflow.html">5. Supervisor Workflow</a></li>
        <li><a href="claude-06-windows.html">6. Windows</a></li>
        <li><a href="claude-07-background-tasks.html">7. Background Tasks</a></li>
        <li><a href="claude-08-copy-mode.html">8. Copy Mode</a></li>
        <li><a href="claude-09-headless-sessions.html">9. Headless Sessions</a></li>
        <li><a href="claude-10-putting-it-together.html">10. Putting It Together</a></li>

        <!-- Track 2: tmux + Codex CLI -->
        <li class="nav-phase-label">Beginner: tmux + Codex CLI</li>
        <li><a href="codex-01-first-session.html">1. Your First Session</a></li>
        <li><a href="codex-02-detach-reattach.html">2. Detach &amp; Reattach</a></li>
        <li><a href="codex-03-split-panes.html">3. Split Panes</a></li>
        <li><a href="codex-04-launch-codex.html">4. Launch Codex CLI</a></li>
        <li><a href="codex-05-supervisor-workflow.html">5. Supervisor Workflow</a></li>
        <li><a href="codex-06-windows.html">6. Windows</a></li>
        <li><a href="codex-07-multitasking.html">7. Multitasking</a></li>
        <li><a href="codex-08-copy-mode.html">8. Copy Mode</a></li>
        <li><a href="codex-09-headless-sessions.html">9. Headless Sessions</a></li>
        <li><a href="codex-10-putting-it-together.html">10. Putting It Together</a></li>

        <!-- Track 3: Multi-Agent Orchestration -->
        <li class="nav-phase-label">Advanced: Multi-Agent Orchestration</li>
        <li><a href="parallel-01-multi-session-architecture.html">1. Multi-Session Architecture</a></li>
        <li><a href="parallel-02-launching-agents.html">2. Launching the Agents</a></li>
        <li><a href="parallel-03-assigning-tasks.html">3. Assigning Tasks</a></li>
        <li><a href="parallel-04-control-dashboard.html">4. Control Dashboard</a></li>
        <li><a href="parallel-05-integration-point.html">5. Integration Point</a></li>
        <li><a href="parallel-06-synchronized-commands.html">6. Synchronized Commands</a></li>
        <li><a href="parallel-07-conflict-resolution.html">7. Conflict Resolution</a></li>
        <li><a href="parallel-08-session-scripts.html">8. Session Scripts</a></li>
        <li><a href="parallel-09-capture-review.html">9. Capture &amp; Review</a></li>
        <li><a href="parallel-10-complete-workflow.html">10. Complete Workflow</a></li>

        <!-- Track 4: Developer Toolkit -->
        <li class="nav-phase-label">Advanced: Developer Toolkit</li>
        <li><a href="dx-01-skeleton.html">1. The dx Skeleton</a></li>
        <li><a href="dx-02-choosing-ai.html">2. Choosing Your AI</a></li>
        <li><a href="dx-03-review-command.html">3. Review Command</a></li>
        <li><a href="dx-04-pr-command.html">4. PR Command</a></li>
        <li><a href="dx-05-explain-command.html">5. Explain Command</a></li>
        <li><a href="dx-06-test-command.html">6. Test Command</a></li>
        <li><a href="dx-07-standup-command.html">7. Standup Command</a></li>
        <li><a href="dx-08-popup-mode.html">8. Popup Mode</a></li>
        <li><a href="dx-09-background-watchers.html">9. Background Watchers</a></li>
        <li><a href="dx-10-installation.html">10. Installation</a></li>

        <!-- Track 5: Guardrails for Speed -->
        <li class="nav-phase-label">Intermediate: Guardrails for Speed</li>
        <li><a href="guard-01-autonomy-ladder.html">1. The Autonomy Ladder</a></li>
        <li><a href="guard-02-permission-tiers.html" class="current">2. Permission Tiers</a></li>
        <li><a href="guard-03-compiler-guardrail.html">3. The Compiler as Guardrail</a></li>
        <li><a href="guard-04-deterministic-tools.html">4. Deterministic Tools Over Prompts</a></li>
        <li><a href="guard-05-hooks-as-guardrails.html">5. Hooks as Guardrails</a></li>
        <li><a href="guard-06-test-automation.html">6. Test Automation That Guards</a></li>
        <li><a href="guard-07-shift-left.html">7. Shift Left</a></li>
        <li><a href="guard-08-token-budget.html">8. Token Budget Engineering</a></li>
        <li><a href="guard-09-architectural-constraints.html">9. Architectural Constraints as Code</a></li>
        <li><a href="guard-10-building-your-pipeline.html">10. Building Your Pipeline</a></li>
      </ul>
    </nav>

  </main>

  <footer>
    <p>tmux + AI CLI &mdash; <a href="https://github.com/buildLittleWorlds/tmux-fundamentals">GitHub Repository</a></p>
  </footer>

  <script src="copy-code.js"></script>

</body>
</html>
